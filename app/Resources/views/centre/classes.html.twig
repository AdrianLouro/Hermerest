{% extends 'base.html.twig' %}

{% block title %}Cursos{% endblock %}

{% block modals %}
    {{ include('/modals/new_class_modal.html.twig') }}
{% endblock %}

{% block action_panel %}
    <button class="defaultButton" type="button" onclick="openNewClassDialog()">Nuevo curso</button>
    <button class="defaultButton actionPanelRightButton" type="button">Autoimportar desde .csv</button>
{% endblock %}

{% block main_title %}
    <h1>Cursos</h1>
    <hr/>
{% endblock %}

{% block main_content %}
    <table class="table" id="classesTable">
        <tr>
            <th>Nombre</th>
            {#<th>Tutor</th>#}
            <th>NÂº de alumnos</th>
        </tr>
        {% for class in classes %}
            <tr>
                <td>{{ class.getName() }}</td>
                <td>{{ class.getStudents()|length }}</td>
                <td class="tableButton">
                    <button class="infoButton"><a href="{{ path('class') }}?id={{ class.getId() }}">Ver</a></button>
                </td>
            </tr>
        {% endfor %}
    </table>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script>
        $(".modal").eq(0).attr("id", "newClassModal");
    </script>
{% endblock %}